@* Python Specialization Section *@
<div class="container-xxl py-5">
    <div class="container">
        <!-- Header -->
        <div class="text-center mb-5">
            <h6 class="section-title bg-white text-primary d-inline-block px-3">Specialization</h6>
            <h1 class="fw-bold mt-3">Python for Everybody Specialization</h1>
            <p class="text-muted">
                Learn to Program and Analyze Data with Python. Develop programs to gather, clean, analyze, and visualize data.
            </p>
        </div>

        <!-- Main Section -->
        <div class="row g-5 align-items-start">
            <!-- Left Content -->
            <div class="col-lg-8 col-md-7">
                <!-- University Info -->
                <div class="d-flex align-items-center mb-3">
                    <div class="bg-warning text-primary fw-bold fs-4 d-flex align-items-center justify-content-center rounded-circle" style="width:60px; height:60px;">
                        M
                    </div>
                    <div class="ms-3">
                        <h6 class="mb-0 text-primary fw-bold">University of Michigan</h6>
                        <small class="text-muted">Instructor: <strong>Charles Russell Severance</strong></small>
                    </div>
                </div>

                <h5 class="fw-bold mb-3">What you'll learn</h5>
                <p class="text-muted">
                    This Specialization builds on the success of the Python for Everybody course and introduces fundamental programming concepts including data structures,
                    networked application program interfaces, and databases using the Python programming language.
                    In the Capstone Project, you’ll apply these technologies to design and create applications for data retrieval, processing, and visualization.
                </p>

                <h5 class="fw-bold mt-4 mb-3">Skills you'll gain</h5>
                <div class="d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-dark border">Databases</span>
                    <span class="badge bg-light text-dark border">Data Processing</span>
                    <span class="badge bg-light text-dark border">Data Store</span>
                    <span class="badge bg-light text-dark border">Data Structures</span>
                    <span class="badge bg-light text-dark border">Web Services</span>
                    <span class="badge bg-light text-dark border">Network Protocols</span>
                    <span class="badge bg-light text-dark border">Data Visualization</span>
                    <span class="badge bg-light text-dark border">Web Scraping</span>
                    <span class="badge bg-light text-dark border">Database Design</span>
                    <span class="badge bg-light text-dark border">Programming Principles</span>
                    <span class="badge bg-light text-dark border">Data Modeling</span>
                    <span class="badge bg-light text-dark border">SQL</span>
                </div>
            </div>

            <!-- Right Info Card -->
            <div class="col-lg-4 col-md-5">
                <div class="bg-light border rounded-3 shadow-sm p-4">
                    <h5 class="fw-bold text-primary mb-3">Specialization Details</h5>
                    <ul class="list-unstyled mb-4">
                        <li class="mb-2">
                            <strong>5 course series</strong> <br>
                            <small class="text-muted">Get in-depth knowledge of a subject</small>
                        </li>
                        <li class="mb-2">
                            <strong>4.8 ★</strong> <br>
                            <small class="text-muted">Based on 217,000+ reviews</small>
                        </li>
                        <li class="mb-2">
                            <strong>Beginner level</strong> <br>
                            <small class="text-muted">No prior experience required</small>
                        </li>
                        <li class="mb-2">
                            <strong>Flexible schedule</strong> <br>
                            <small class="text-muted">2 months at 10 hours/week</small>
                        </li>
                        <li>
                            <strong>Build toward a degree</strong> <br>
                            <small class="text-muted">Learn more</small>
                        </li>
                    </ul>

                    <div class="d-grid">
                        <button class="btn btn-primary rounded-pill mb-2 enrollBtn" type="button">
                            Enroll for Free
                        </button>
                        <small class="text-muted">Starts Oct 25 — Included with <strong>Coursera Plus</strong></small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Related Courses -->
        <div class="mt-5">
            <h4 class="fw-bold mb-3">Related Courses</h4>
            <div class="d-flex flex-nowrap overflow-auto pb-2">

                <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="~/img/course-1.jpg" class="card-img-top" alt="Course 1">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Python Data Structures</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div>

                <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course2.jpg" class="card-img-top" alt="Course 2">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Using Python to Access Web Data</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div>

                <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course3.jpg" class="card-img-top" alt="Course 3">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Python Classes and Objects</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div>

                <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course4.jpg" class="card-img-top" alt="Course 4">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Capstone: Retrieving, Processing, and Visualizing Data</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div>
                <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course4.jpg" class="card-img-top" alt="Course 4">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Capstone: Retrieving, Processing, and Visualizing Data</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div> <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course4.jpg" class="card-img-top" alt="Course 4">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Capstone: Retrieving, Processing, and Visualizing Data</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div> <div class="card me-3 shadow-sm" style="min-width: 250px;">
                    <img src="/images/course4.jpg" class="card-img-top" alt="Course 4">
                    <div class="card-body">
                        <h6 class="card-title fw-semibold text-truncate">Capstone: Retrieving, Processing, and Visualizing Data</h6>
                        <p class="text-muted small mb-2">University of Michigan</p>
                        <a href="#" class="btn btn-sm btn-outline-primary rounded-pill">View Course</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Enroll Modal (Bootstrap 5 markup) -->
<div class="modal fade" id="enrollModal" tabindex="-1" aria-labelledby="enrollModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="enrollModalLabel">Enroll in Specialization</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <p>Are you sure you want to enroll in <strong>Python for Everybody Specialization</strong>?</p>

                <!-- example form or info -->
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" placeholder="you@example.com">
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirmEnrollBtn">Confirm Enroll</button>
            </div>
            <!-- Yellow Warning Toast -->
            <div class="position-fixed top-0 end-0 p-3" style="z-index: 9999;">
                <div id="warningToast" class="toast text-bg-warning border-0 shadow" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div class="toast-body fw-semibold" id="warningToastBody">
                            <!-- dynamic message -->
                        </div>
                        <button type="button" class="btn-close btn-close-dark me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>


<!-- Payment Modal (Bootstrap 5 markup) -->
<div class="modal fade" id="enrollModal" tabindex="-1" aria-labelledby="enrollModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="enrollModalLabel">Payment</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <p>Are you sure you want to enroll in <strong>Python for Everybody Specialization</strong>?</p>

                <!-- example form or info -->
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" placeholder="you@example.com">
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirmEnrollBtn">Confirm Enroll</button>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script>

        function isValidEmail(email) {
            var regex = /^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/;
            return regex.test(email);
        }

        $(document).ready(function () {
            $('.enrollBtn').on('click', function () {
                new bootstrap.Modal(document.getElementById('enrollModal')).show();
            });
        });

        $("#confirmEnrollBtn").on("click", function () {
            debugger
            let email = $("#enrollModal input[type='email']").val();
            const url = new URL(window.location.href);
            const segments = url.pathname.split('/');
            const id = segments[segments.length - 1];

            if (!isValidEmail(email)) {
                $("#warningToastBody").text("Please enter a valid email address.");
                let toast = new bootstrap.Toast($("#warningToast")[0]);
                toast.show();
                return;
            }

            $.ajax({
                url: "/CourseList/courseEnrollment",
                type: "POST",
                data: {
                    email: email,
                    courseDetailsId: id
                },
                success: function (res) {
                    if (res.status === 0) {
                        $("#warningToastBody").text(res.message);
                        let toast = new bootstrap.Toast($("#warningToast")[0]);
                        toast.show();
                    } else {
                        alert("Enrollment Successful!");
                    }
                }
            });
        });

    </script>

}
